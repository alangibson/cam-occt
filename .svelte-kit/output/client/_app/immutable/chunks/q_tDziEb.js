import{an as o,e as b,_ as m,B as h,ao as y,ap as S,aq as q,u as k,r as w,h as E,w as v}from"./DZGQKL0P.js";function c(e,a,t=!1){if(e.multiple){if(a==null)return;if(!h(a))return y();for(var u of e.options)u.selected=a.includes(f(u));return}for(u of e.options){var r=f(u);if(S(r,a)){u.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function g(e){var a=new MutationObserver(()=>{c(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),m(()=>{a.disconnect()})}function M(e,a,t=a){var u=!0;o(e,"change",r=>{var l=r?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(l),f);else{var i=e.querySelector(l)??e.querySelector("option:not([disabled])");n=i&&f(i)}t(n)}),b(()=>{var r=a();if(c(e,r,u),u&&r===void 0){var l=e.querySelector(":checked");l!==null&&(r=f(l),t(r))}e.__value=r,u=!1}),g(e)}function f(e){return"__value"in e?e.__value:e.value}function V(e,a,t=a){var u=q(),r=new WeakSet;o(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=s(e)?d(n):n,t(n),v!==null&&r.add(v),u&&n!==(n=a())){var i=e.selectionStart,_=e.selectionEnd;e.value=n??"",_!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(_,e.value.length))}}),(E&&e.defaultValue!==e.value||k(a)==null&&e.value)&&(t(s(e)?d(e.value):e.value),v!==null&&r.add(v)),w(()=>{var l=a();e===document.activeElement&&r.has(v)||s(e)&&l===d(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function s(e){var a=e.type;return a==="number"||a==="range"}function d(e){return e===""?null:+e}export{V as a,M as b};
