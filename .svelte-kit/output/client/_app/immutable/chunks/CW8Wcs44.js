function Cr(e,s){for(var l=0;l<s.length;l++){const u=s[l];if(typeof u!="string"&&!Array.isArray(u)){for(const f in u)if(f!=="default"&&!(f in e)){const v=Object.getOwnPropertyDescriptor(u,f);v&&Object.defineProperty(e,f,v.get?v:{enumerable:!0,get:()=>u[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ie={},De={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={verbose:!1};e.default=s})(De);var Ce={},wa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u){var f,v={};return u.forEach(function(i){var c=i[0],n=i[1];switch(n){case"$MEASUREMENT":{f="measurement";break}case"$INSUNITS":{f="insUnits";break}case"$EXTMIN":v.extMin={},f="extMin";break;case"$EXTMAX":v.extMax={},f="extMax";break;case"$DIMASZ":v.dimArrowSize={},f="dimArrowSize";break;default:switch(f){case"extMin":case"extMax":{switch(c){case 10:v[f].x=n;break;case 20:v[f].y=n;break;case 30:v[f].z=n,f=void 0;break}break}case"measurement":case"insUnits":{switch(c){case 70:{v[f]=n,f=void 0;break}}break}case"dimArrowSize":{switch(c){case 40:{v[f]=n,f=void 0;break}}break}}}}),v};e.default=s})(wa);var Ma={},X={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(De);function l(c){return c&&c.__esModule?c:{default:c}}function u(){s.default.verbose&&console.info.apply(void 0,arguments)}function f(){s.default.verbose&&console.warn.apply(void 0,arguments)}function v(){console.error.apply(void 0,arguments)}var i={info:u,warn:f,error:v};e.default=i})(X);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(X);function l(n){return n&&n.__esModule?n:{default:n}}var u=function(r){return r.reduce(function(a,t){var o=t[0],d=t[1];switch(o){case 2:a.name=d;break;case 6:a.lineTypeName=d;break;case 62:a.colorNumber=d;break;case 70:a.flags=d;break;case 290:a.plot=parseInt(d)!==0;break;case 370:a.lineWeightEnum=d;break}return a},{type:"LAYER"})},f=function(r){return r.reduce(function(a,t){var o=t[0],d=t[1];switch(o){case 2:a.name=d;break;case 6:a.lineTypeName=d;break;case 40:a.fixedTextHeight=d;break;case 41:a.widthFactor=d;break;case 50:a.obliqueAngle=d;break;case 71:a.flags=d;break;case 42:a.lastHeightUsed=d;break;case 3:a.primaryFontFileName=d;break;case 4:a.bigFontFileName=d;break}return a},{type:"STYLE"})},v=function(r){return r.reduce(function(a,t){var o=t[0],d=t[1];switch(o){case 2:a.name=d;break;case 5:a.handle=d;break;case 70:a.flags=d;break;case 10:a.lowerLeft.x=parseFloat(d);break;case 20:a.lowerLeft.y=parseFloat(d);break;case 11:a.upperRight.x=parseFloat(d);break;case 21:a.upperRight.y=parseFloat(d);break;case 12:a.center.x=parseFloat(d);break;case 22:a.center.y=parseFloat(d);break;case 14:a.snapSpacing.x=parseFloat(d);break;case 24:a.snapSpacing.y=parseFloat(d);break;case 15:a.gridSpacing.x=parseFloat(d);break;case 25:a.gridSpacing.y=parseFloat(d);break;case 16:a.direction.x=parseFloat(d);break;case 26:a.direction.y=parseFloat(d);break;case 36:a.direction.z=parseFloat(d);break;case 17:a.target.x=parseFloat(d);break;case 27:a.target.y=parseFloat(d);break;case 37:a.target.z=parseFloat(d);break;case 45:a.height=parseFloat(d);break;case 50:a.snapAngle=parseFloat(d);break;case 51:a.angle=parseFloat(d);break;case 110:a.x=parseFloat(d);break;case 120:a.y=parseFloat(d);break;case 130:a.z=parseFloat(d);break;case 111:a.xAxisX=parseFloat(d);break;case 121:a.xAxisY=parseFloat(d);break;case 131:a.xAxisZ=parseFloat(d);break;case 112:a.xAxisX=parseFloat(d);break;case 122:a.xAxisY=parseFloat(d);break;case 132:a.xAxisZ=parseFloat(d);break;case 146:a.elevation=parseFloat(d);break}return a},{type:"VPORT",center:{},lowerLeft:{},upperRight:{},snap:{},snapSpacing:{},gridSpacing:{},direction:{},target:{}})},i=function(r,a,t){var o=[],d;return r.forEach(function(g){var h=g[0],b=g[1];(h===0||h===2)&&b===a?(d=[],o.push(d)):d.push(g)}),o.reduce(function(g,h){var b=t(h);return b.name?g[b.name]=b:s.default.warn("table row without name:",b),g},{})},c=function(r){var a=[],t;r.forEach(function(h){var b=h[1];b==="TABLE"?(t=[],a.push(t)):b==="ENDTAB"?a.push(t):t.push(h)});var o=[],d=[],g=[];return a.forEach(function(h){h[0][1]==="STYLE"?o=h:h[0][1]==="LTYPE"?s.default.warn("LTYPE in tables not supported"):h[0][1]==="LAYER"?d=h:h[0][1]==="VPORT"&&(g=h)}),{layers:i(d,"LAYER",u),styles:i(o,"STYLE",f),vports:i(g,"VPORT",v)}};e.default=c})(Ma);var Aa={},Fe={},Ea={},j={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u,f){switch(u){case 5:return{handle:f};case 6:return{lineTypeName:f};case 8:return{layer:f};case 48:return{lineTypeScale:f};case 60:return{visible:f===0};case 62:return{colorNumber:f};case 67:return f===0?{}:{paperSpace:f};case 68:return{viewportOn:f};case 69:return{viewport:f};case 210:return{extrusionX:f};case 220:return{extrusionY:f};case 230:return{extrusionZ:f};case 410:return{layout:f};default:return{}}};e.default=s})(j);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="POINT";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.x=t;break;case 20:n.y=t;break;case 30:n.z=t;break;case 39:n.thickness=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Ea);var $a={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="LINE";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.start.x=t;break;case 20:n.start.y=t;break;case 30:n.start.z=t;break;case 39:n.thickness=t;break;case 11:n.end.x=t;break;case 21:n.end.y=t;break;case 31:n.end.z=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u,start:{},end:{}})};e.process=f;var v={TYPE:u,process:f};e.default=v})($a);var Oa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="LWPOLYLINE";e.TYPE=u;var f=function(c){var n;return c.reduce(function(r,a){var t=a[0],o=a[1];switch(t){case 70:r.closed=(o&1)===1;break;case 10:n={x:o,y:0},r.vertices.push(n);break;case 20:n.y=o;break;case 39:r.thickness=o;break;case 42:n.bulge=o;break;default:Object.assign(r,(0,s.default)(t,o));break}return r},{type:u,vertices:[]})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Oa);var Sa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="POLYLINE";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 70:n.closed=(t&1)===1,n.polygonMesh=(t&16)===16,n.polyfaceMesh=(t&64)===64;break;case 39:n.thickness=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u,vertices:[]})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Sa);var Ia={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s="VERTEX";e.TYPE=s;var l=function(v){return v.reduce(function(i,c){var n=c[0],r=c[1];switch(n){case 10:i.x=r;break;case 20:i.y=r;break;case 30:i.z=r;break;case 42:i.bulge=r;break}return i},{})};e.process=l;var u={TYPE:s,process:l};e.default=u})(Ia);var Da={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="CIRCLE";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.x=t;break;case 20:n.y=t;break;case 30:n.z=t;break;case 40:n.r=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Da);var Ca={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="ARC";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.x=t;break;case 20:n.y=t;break;case 30:n.z=t;break;case 39:n.thickness=t;break;case 40:n.r=t;break;case 50:n.startAngle=t/180*Math.PI;break;case 51:n.endAngle=t/180*Math.PI;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Ca);var Fa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="ELLIPSE";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.x=t;break;case 11:n.majorX=t;break;case 20:n.y=t;break;case 21:n.majorY=t;break;case 30:n.z=t;break;case 31:n.majorZ=t;break;case 40:n.axisRatio=t;break;case 41:n.startAngle=t;break;case 42:n.endAngle=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Fa);var La={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="SPLINE";e.TYPE=u;var f=function(c){var n;return c.reduce(function(r,a){var t=a[0],o=a[1];switch(t){case 10:n={x:o,y:0},r.controlPoints.push(n);break;case 20:n.y=o;break;case 30:n.z=o;break;case 40:r.knots.push(o);break;case 41:r.weights||(r.weights=[]),r.weights.push(o);break;case 42:r.knotTolerance=o;break;case 43:r.controlPointTolerance=o;break;case 44:r.fitTolerance=o;break;case 70:r.flag=o,r.closed=(o&1)===1;break;case 71:r.degree=o;break;case 72:r.numberOfKnots=o;break;case 73:r.numberOfControlPoints=o;break;case 74:r.numberOfFitPoints=o;break;default:Object.assign(r,(0,s.default)(t,o));break}return r},{type:u,controlPoints:[],knots:[]})};e.process=f;var v={TYPE:u,process:f};e.default=v})(La);var Ba={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="SOLID";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.corners[0].x=t;break;case 20:n.corners[0].y=t;break;case 30:n.corners[0].z=t;break;case 11:n.corners[1].x=t;break;case 21:n.corners[1].y=t;break;case 31:n.corners[1].z=t;break;case 12:n.corners[2].x=t;break;case 22:n.corners[2].y=t;break;case 32:n.corners[2].z=t;break;case 13:n.corners[3].x=t;break;case 23:n.corners[3].y=t;break;case 33:n.corners[3].z=t;break;case 39:n.thickness=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u,corners:[{},{},{},{}]})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Ba);var Ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(g){return g&&g.__esModule?g:{default:g}}var u="HATCH";e.TYPE=u;var f="IDLE",v={},i=0,c=!1,n=null,r={references:[],entities:[]},a=function(h){return h.reduce(function(b,p){var _=p[0],y=p[1];switch(_){case 100:f="IDLE";break;case 2:b.patternName=y;break;case 10:if(f==="IDLE")b.elevation.x=parseFloat(y);else if(f==="POLYLINE"&&c){var k={x:parseFloat(y),y:0};r.entities[0].points.push(k)}else f==="SEED"?(n||(n={x:0,y:0},b.seeds.seeds.push(n)),n.x=parseFloat(y)):d(_,i,parseFloat(y));break;case 20:f==="IDLE"?b.elevation.y=parseFloat(y):f==="POLYLINE"&&c?r.entities[0].points[r.entities[0].points.length-1].y=parseFloat(y):f==="SEED"?(n.y=parseFloat(y),n=null):d(_,i,parseFloat(y));break;case 30:b.elevation.z=parseFloat(y);break;case 63:b.fillColor=y;break;case 70:b.fillType=parseFloat(y)===1?"SOLID":"PATTERN";break;case 210:b.extrusionDir.x=parseFloat(y);break;case 220:b.extrusionDir.y=parseFloat(y);break;case 230:b.extrusionDir.z=parseFloat(y);break;case 91:b.boundary.count=parseFloat(y);break;case 92:if(r={references:[],entities:[]},b.boundary.loops.push(r),r.type=parseFloat(y),c=(r.type&2)===2,c){var P={type:"POLYLINE",points:[]};r.entities.push(P),f="POLYLINE"}break;case 93:f==="IDLE"&&(f="ENT"),r.count=parseFloat(y);break;case 11:case 21:case 40:case 50:case 51:case 74:case 94:case 95:case 96:d(_,i,parseFloat(y));break;case 42:c?r.bulge=y:d(_,i,parseFloat(y));break;case 72:i=parseFloat(y),r[c?"bulge":"edgeType"]=i,c||(v=o(i),r.entities.push(v));break;case 73:f==="IDLE"||c?r.closed=y:d(_,i,parseFloat(y));break;case 75:f="IDLE",b.style=parseFloat(y);break;case 76:b.hatchType=parseFloat(y);break;case 97:f="IDLE",c=!1,r.sourceObjects=parseFloat(y);break;case 98:f="SEED",b.seeds.count=parseFloat(y);break;case 52:b.shadowPatternAngle=parseFloat(y);break;case 41:b.spacing=parseFloat(y);break;case 77:b.double=parseFloat(y)===1;break;case 78:b.pattern.lineCount=parseFloat(y);break;case 53:b.pattern.angle=parseFloat(y);break;case 43:b.pattern.x=parseFloat(y);break;case 44:b.pattern.y=parseFloat(y);break;case 45:b.pattern.offsetX=parseFloat(y);break;case 46:b.pattern.offsetY=parseFloat(y);break;case 79:b.pattern.dashCount=parseFloat(y);break;case 49:b.pattern.length.push(y);break;case 330:r.references.push(y);break;case 450:b.solidOrGradient=parseFloat(y)===0?"SOLID":"GRADIENT";break;case 453:b.color.count=parseFloat(y);break;case 460:b.color.rotation=y;break;case 461:b.color.gradient=y;break;case 462:b.color.tint=y;break;default:Object.assign(b,(0,s.default)(_,y));break}return b},{type:u,elevation:{},extrusionDir:{x:0,y:0,z:1},pattern:{length:[]},boundary:{loops:[]},seeds:{count:0,seeds:[]},color:{}})};e.process=a;var t={TYPE:u,process:a};e.default=t;function o(g){if(c)return{};switch(g){case 1:return{type:"LINE",start:{x:0,y:0},end:{x:0,y:0}};case 2:return{type:"ARC",center:{x:0,y:0},radius:0,startAngle:0,endAngle:0,counterClockWise:!1};case 3:return{type:"ELLIPSE",center:{x:0,y:0},startAngle:0,endAngle:0,counterClockWise:!1,major:{x:0,y:0},minor:0};case 4:return{type:"SPLINE",degree:0,rational:0,periodic:0,knots:{count:0,knots:[]},points:{count:0,point:{x:0,y:0}},weights:1}}return{}}function d(g,h,b){switch(g){case 10:switch(h){case 1:v.start.x=b;break;case 2:v.center.x=b;break;case 3:v.center.x=b;break;case 4:v.points.point.x=b;break}break;case 20:{switch(h){case 1:v.start.y=b;break;case 2:v.center.y=b;break;case 3:v.center.y=b;break;case 4:v.points.point.y=b;break}break}case 11:switch(h){case 1:v.end.x=b;break;case 3:v.major.x=b;break}break;case 21:{switch(h){case 1:v.end.y=b;break;case 3:v.major.y=b;break}break}case 40:switch(h){case 2:v.radius=b;break;case 3:v.minor=b;break;case 4:v.knots.knots.push(b);break}break;case 42:switch(h){case 4:v.weights=b;break}break;case 50:switch(h){case 2:v.startAngle=b;break;case 3:v.startAngle=b;break}break;case 51:switch(h){case 2:v.endAngle=b;break;case 3:v.endAngle=b;break}break;case 73:switch(h){case 2:v.counterClockWise=parseFloat(b)===1;break;case 3:v.counterClockWise=parseFloat(b)===1;break;case 4:v.rational=b;break}break;case 74:switch(h){case 4:v.periodic=b;break}break;case 94:switch(h){case 4:v.degree=b;break}break;case 95:switch(h){case 4:v.knots.count=b;break}break;case 96:switch(h){case 4:v.points.count=b;break}break}}})(Ya);var Le={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.assign=e.TYPE=void 0;var s=l(j);function l(n){return n&&n.__esModule?n:{default:n}}var u="MTEXT";e.TYPE=u;var f={10:"x",20:"y",30:"z",40:"nominalTextHeight",41:"refRectangleWidth",71:"attachmentPoint",72:"drawingDirection",7:"styleName",11:"xAxisX",21:"xAxisY",31:"xAxisZ",42:"horizontalWidth",43:"verticalHeight",73:"lineSpacingStyle",44:"lineSpacingFactor",90:"backgroundFill",420:"bgColorRGB0",421:"bgColorRGB1",422:"bgColorRGB2",423:"bgColorRGB3",424:"bgColorRGB4",425:"bgColorRGB5",426:"bgColorRGB6",427:"bgColorRGB7",428:"bgColorRGB8",429:"bgColorRGB9",430:"bgColorName0",431:"bgColorName1",432:"bgColorName2",433:"bgColorName3",434:"bgColorName4",435:"bgColorName5",436:"bgColorName6",437:"bgColorName7",438:"bgColorName8",439:"bgColorName9",45:"fillBoxStyle",63:"bgFillColor",441:"bgFillTransparency",75:"columnType",76:"columnCount",78:"columnFlowReversed",79:"columnAutoheight",48:"columnWidth",49:"columnGutter",50:"columnHeights"},v=function(r){return r.reduce(function(a,t){var o=t[0],d=t[1];return i(a,o,d),a},{type:u,string:""})};e.process=v;var i=function(r,a,t){return f[a]!==void 0?r[f[a]]=t:a===1||a===3?r.string+=t:a===50?(r.xAxisX=Math.cos(t),r.xAxisY=Math.sin(t)):Object.assign(r,(0,s.default)(a,t)),r};e.assign=i;var c={TYPE:u,process:v,assign:i};e.default=c})(Le);var Be={},Ye={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.assign=e.TYPE=void 0;var s=l(j);function l(n){return n&&n.__esModule?n:{default:n}}var u="TEXT";e.TYPE=u;var f={1:"string",10:"x",20:"y",30:"z",11:"x2",21:"y2",31:"z2",39:"thickness",40:"textHeight",41:"relScaleX",50:"rotation",51:"obliqueAngle",7:"styleName",71:"mirror",72:"hAlign",73:"vAlign"},v=function(r){return r.reduce(function(a,t){var o=t[0],d=t[1];return i(a,o,d),a},{type:u,string:""})};e.process=v;var i=function(r,a,t){f[a]!==void 0?r[f[a]]=t:Object.assign(r,(0,s.default)(a,t))};e.assign=i;var c={TYPE:u,process:v,assign:i};e.default=c})(Ye);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.assign=e.TYPE=void 0;var s=f(j),l=Le,u=Ye;function f(r){return r&&r.__esModule?r:{default:r}}var v="ATTDEF";e.TYPE=v;var i=function(a){return a.reduce(function(t,o){var d=o[0],g=o[1];return c(t,d,g),t},{type:v,subclassMarker:"AcDbText",thickness:0,scaleX:1,mtext:{},text:{}})};e.process=i;var c=function(a,t,o){switch(t){case 100:{a.subclassMarker=o;break}case 1:switch(a.subclassMarker){case"AcDbText":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 2:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.tag=o;break;case"AcDbXrecord":a.attdefFlag=o;break}break;case 3:switch(a.subclassMarker){case"AcDbAttributeDefinition":a.prompt=o;break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 7:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 10:switch(a.subclassMarker){case"AcDbText":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break;case"AcDbXrecord":a.x=o;break}break;case 20:switch(a.subclassMarker){case"AcDbText":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break;case"AcDbXrecord":a.y=o;break}break;case 30:switch(a.subclassMarker){case"AcDbText":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break;case"AcDbXrecord":a.z=o;break}break;case 11:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.x2=o;break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 21:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.y2=o;break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 31:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.z2=o;break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 39:(0,u.assign)(a.text,t,o);break;case 40:switch(a.subclassMarker){case"AcDbText":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break;case"AcDbXrecord":a.annotationScale=o;break}break;case 41:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 42:case 43:case 44:case 45:(0,l.assign)(a.mtext,t,o);break;case 46:a.mtext.annotationHeight=o;break;case 48:case 49:(0,l.assign)(a.mtext,t,o);break;case 50:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 51:(0,u.assign)(a.text,t,o);break;case 63:(0,l.assign)(a.mtext,t,o);break;case 70:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.attributeFlags=o;break;case"AcDbXrecord":typeof a.mTextFlag>"u"?a.mTextFlag=o:typeof a.isReallyLocked>"u"?a.isReallyLocked=o:a.secondaryAttdefCount=o;break}break;case 71:case 72:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,u.assign)(a.text,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 73:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.fieldLength=o;break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 74:(0,u.assign)(a.text,73,o);break;case 75:case 76:case 78:case 79:(0,l.assign)(a.mtext,t,o);break;case 90:(0,l.assign)(a.mtext,t,o);break;case 210:case 220:case 230:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,u.assign)(a.mtext,t,o);break;case"AcDbMText":(0,l.assign)(a.mtext,t,o);break}break;case 280:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.lock=o;break;case"AcDbXrecord":a.clone=!0;break}break;case 340:a.attdefHandle=o;break;case 420:case 421:case 422:case 423:case 424:case 425:case 426:case 427:case 428:case 429:case 430:case 431:case 432:case 433:case 434:case 435:case 436:case 437:case 438:case 439:case 441:(0,l.assign)(a.mtext,t,o);break;default:Object.assign(a,(0,s.default)(t,o));break}};e.assign=c;var n={TYPE:v,process:i,assign:c};e.default=n})(Be);var Na={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=Be,l="ATTRIB";e.TYPE=l;var u=function(i){return i.reduce(function(c,n){var r=n[0],a=n[1];return(0,s.assign)(c,r,a),c},{type:l,subclassMarker:"AcDbText",thickness:0,scaleX:1,mtext:{},text:{}})};e.process=u;var f={TYPE:l,process:u};e.default=f})(Na);var Ra={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="INSERT";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 2:n.block=t;break;case 10:n.x=t;break;case 20:n.y=t;break;case 30:n.z=t;break;case 41:n.scaleX=t;break;case 42:n.scaleY=t;break;case 43:n.scaleZ=t;break;case 44:n.columnSpacing=t;break;case 45:n.rowSpacing=t;break;case 50:n.rotation=t;break;case 70:n.columnCount=t;break;case 71:n.rowCount=t;break;case 210:n.extrusionX=t;break;case 220:n.extrusionY=t;break;case 230:n.extrusionZ=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u})};e.process=f;var v={TYPE:u,process:f};e.default=v})(Ra);var za={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="3DFACE";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 10:n.vertices[0].x=t;break;case 20:n.vertices[0].y=t;break;case 30:n.vertices[0].z=t;break;case 11:n.vertices[1].x=t;break;case 21:n.vertices[1].y=t;break;case 31:n.vertices[1].z=t;break;case 12:n.vertices[2].x=t;break;case 22:n.vertices[2].y=t;break;case 32:n.vertices[2].z=t;break;case 13:n.vertices[3].x=t;break;case 23:n.vertices[3].y=t;break;case 33:n.vertices[3].z=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u,vertices:[{},{},{},{}]})};e.process=f;var v={TYPE:u,process:f};e.default=v})(za);var ja={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(c){return c&&c.__esModule?c:{default:c}}var u="DIMENSION";e.TYPE=u;var f=function(n){return n.reduce(function(r,a){var t=a[0],o=a[1];switch(t){case 2:r.block=o;break;case 10:r.start.x=o;break;case 20:r.start.y=o;break;case 30:r.start.z=o;break;case 11:r.textMidpoint.x=o;break;case 21:r.textMidpoint.y=o;break;case 31:r.textMidpoint.z=o;break;case 13:r.measureStart.x=o;break;case 23:r.measureStart.y=o;break;case 33:r.measureStart.z=o;break;case 14:r.measureEnd.x=o;break;case 24:r.measureEnd.y=o;break;case 34:r.measureEnd.z=o;break;case 50:r.rotation=o;break;case 51:r.horizonRotation=o;break;case 52:r.extensionRotation=o;break;case 53:r.textRotation=o;break;case 70:{var d=v(o);d.ordinateType&&(r.ordinateType=!0),d.uniqueBlockReference&&(r.uniqueBlockReference=!0),d.userDefinedLocation&&(r.userDefinedLocation=!0),r.dimensionType=d.dimensionType;break}case 71:r.attachementPoint=o;break;case 210:r.extrudeDirection=r.extrudeDirection||{},r.extrudeDirection.x=o;break;case 220:r.extrudeDirection=r.extrudeDirection||{},r.extrudeDirection.y=o;break;case 230:r.extrudeDirection=r.extrudeDirection||{},r.extrudeDirection.z=o;break;default:Object.assign(r,(0,s.default)(t,o));break}return r},{type:u,start:{x:0,y:0,z:0},measureStart:{x:0,y:0,z:0},measureEnd:{x:0,y:0,z:0},textMidpoint:{x:0,y:0,z:0},attachementPoint:1,dimensionType:0})};e.process=f;function v(c){var n=!1,r=!1,a=!1;if(c>6){var t=c-32,o=c-64,d=c-32-64,g=c-32-128,h=c-32-64-128;t>=0&&t<=6?(n=!0,c=t):o>=0&&o<=6?(r=!0,c=o):d>=0&&d<=6?(n=!0,r=!0,c=d):g>=0&&g<=6?(n=!0,a=!0,c=g):h>=0&&h<=6&&(n=!0,r=!0,a=!0,c=h)}return{dimensionType:c,uniqueBlockReference:n,ordinateType:r,userDefinedLocation:a}}var i={TYPE:u,process:f};e.default=i})(ja);var qa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.process=e.default=e.TYPE=void 0;var s=l(j);function l(i){return i&&i.__esModule?i:{default:i}}var u="VIEWPORT";e.TYPE=u;var f=function(c){return c.reduce(function(n,r){var a=r[0],t=r[1];switch(a){case 1:n.layout=parseFloat(t);break;case 10:n.center.x=parseFloat(t);break;case 20:n.center.y=parseFloat(t);break;case 30:n.center.z=parseFloat(t);break;case 12:n.centerDCS.x=parseFloat(t);break;case 22:n.centerDCS.y=parseFloat(t);break;case 13:n.snap.x=parseFloat(t);break;case 23:n.snap.y=parseFloat(t);break;case 14:n.snapSpacing.x=parseFloat(t);break;case 24:n.snapSpacing.y=parseFloat(t);break;case 15:n.gridSpacing.x=parseFloat(t);break;case 25:n.gridSpacing.y=parseFloat(t);break;case 16:n.direction.x=parseFloat(t);break;case 26:n.direction.y=parseFloat(t);break;case 36:n.direction.z=parseFloat(t);break;case 17:n.target.x=parseFloat(t);break;case 27:n.target.y=parseFloat(t);break;case 37:n.target.z=parseFloat(t);break;case 40:n.width=parseFloat(t);break;case 41:n.height=parseFloat(t);break;case 50:n.snapAngle=parseFloat(t);break;case 51:n.angle=parseFloat(t);break;case 68:n.status=t;break;case 69:n.id=t;break;case 90:n.flags=t;break;case 110:n.x=parseFloat(t);break;case 120:n.y=parseFloat(t);break;case 130:n.z=parseFloat(t);break;case 111:n.xAxisX=parseFloat(t);break;case 121:n.xAxisY=parseFloat(t);break;case 131:n.xAxisZ=parseFloat(t);break;case 112:n.xAxisX=parseFloat(t);break;case 122:n.xAxisY=parseFloat(t);break;case 132:n.xAxisZ=parseFloat(t);break;case 146:n.elevation=parseFloat(t);break;case 281:n.render=t;break;default:Object.assign(n,(0,s.default)(a,t));break}return n},{type:u,center:{},centerDCS:{},snap:{},snapSpacing:{},gridSpacing:{},direction:{},target:{}})};e.process=f;var v={TYPE:u,process:f};e.default=v})(qa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=P(X),l=P(Ea),u=P($a),f=P(Oa),v=P(Sa),i=P(Ia),c=P(Da),n=P(Ca),r=P(Fa),a=P(La),t=P(Ba),o=P(Ya),d=P(Le),g=P(Be),h=P(Na),b=P(Ra),p=P(za),_=P(ja),y=P(Ye),k=P(qa);function P(E){return E&&E.__esModule?E:{default:E}}var w=[l.default,u.default,f.default,v.default,i.default,c.default,n.default,r.default,a.default,t.default,o.default,d.default,g.default,h.default,y.default,b.default,_.default,p.default,k.default].reduce(function(E,S){return E[S.TYPE]=S,E},{}),M=function(S){var B=[],R=[],q;S.forEach(function(N){var x=N[0];x===0&&(q=[],R.push(q)),q.push(N)});var z;return R.forEach(function(N){var x=N[0][1],m=N.slice(1);if(w[x]!==void 0){var T=w[x].process(m);x==="POLYLINE"?(z=T,B.push(T)):x==="VERTEX"?z?z.vertices.push(T):s.default.error("ignoring invalid VERTEX entity"):x==="SEQEND"?z=void 0:B.push(T)}else s.default.warn("unsupported type in ENTITIES section:",x)}),B};e.default=M})(Fe);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(Fe);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(v){var i,c=[],n,r=[];return v.forEach(function(a){var t=a[0],o=a[1];if(o==="BLOCK")i="block",n={},r=[],c.push(n);else if(o==="ENDBLK")i==="entities"?n.entities=(0,s.default)(r):n.entities=[],r=void 0,i=void 0;else if(i==="block"&&t!==0)switch(t){case 1:n.xref=o;break;case 2:n.name=o;break;case 10:n.x=o;break;case 20:n.y=o;break;case 30:n.z=o;break;case 67:o!==0&&(n.paperSpace=o);break;case 410:n.layout=o;break}else i==="block"&&t===0?(i="entities",r.push(a)):i==="entities"&&r.push(a)}),c};e.default=u})(Aa);var Va={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u){var f,v={layouts:[]},i={};return u.forEach(function(c,n){var r=c[0],a=c[1];if(r===0&&(f="IDLE"),a==="LAYOUT"&&(f="layout",i={},v.layouts.push(i)),f==="layout"&&r!==0)switch(r){case 100:a==="AcDbLayout"&&(f="AcDbLayout");break}if(f==="AcDbLayout"&&r!==0)switch(r){case 1:i.name=a;break;case 5:i.handle=a;break;case 10:i.minLimitX=parseFloat(a);break;case 20:i.minLimitY=parseFloat(a);break;case 11:i.maxLimitX=parseFloat(a);break;case 21:i.maxLimitY=parseFloat(a);break;case 12:i.x=parseFloat(a);break;case 22:i.y=parseFloat(a);break;case 32:i.z=parseFloat(a);break;case 14:i.minX=parseFloat(a);break;case 24:i.minY=parseFloat(a);break;case 34:i.minZ=parseFloat(a);break;case 15:i.maxX=parseFloat(a);break;case 25:i.maxY=parseFloat(a);break;case 35:i.maxZ=parseFloat(a);break;case 70:i.flag=a===1?"PSLTSCALE":"LIMCHECK";break;case 71:i.tabOrder=a;break;case 146:i.elevation=parseFloat(a);break;case 13:i.ucsX=parseFloat(a);break;case 23:i.ucsY=parseFloat(a);break;case 33:i.ucsZ=parseFloat(a);break;case 16:i.ucsXaxisX=parseFloat(a);break;case 26:i.ucsXaxisY=parseFloat(a);break;case 36:i.ucsXaxisZ=parseFloat(a);break;case 17:i.ucsYaxisX=parseFloat(a);break;case 27:i.ucsYaxisY=parseFloat(a);break;case 37:i.ucsYaxisZ=parseFloat(a);break;case 76:switch(a){case 0:i.ucsType="NOT ORTHOGRAPHIC";break;case 1:i.ucsType="TOP";break;case 2:i.ucsType="BOTTOM";break;case 3:i.ucsType="FRONT";break;case 4:i.ucsType="BACK";break;case 5:i.ucsType="LEFT";break;case 6:i.ucsType="RIGHT";break}break;case 330:i.tableRecord=a;break;case 331:i.lastActiveViewport=a;break;case 333:i.shadePlot=a;break}}),v};e.default=s})(Va);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(wa),l=c(Ma),u=c(Aa),f=c(Fe),v=c(Va),i=c(X);function c(b){return b&&b.__esModule?b:{default:b}}function n(b,p){var _=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!_){if(Array.isArray(b)||(_=r(b))||p){_&&(b=_);var y=0,k=function(){};return{s:k,n:function(){return y>=b.length?{done:!0}:{done:!1,value:b[y++]}},e:function(S){throw S},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,w=!1,M;return{s:function(){_=_.call(b)},n:function(){var S=_.next();return P=S.done,S},e:function(S){w=!0,M=S},f:function(){try{!P&&_.return!=null&&_.return()}finally{if(w)throw M}}}}function r(b,p){if(b){if(typeof b=="string")return a(b,p);var _=Object.prototype.toString.call(b).slice(8,-1);if(_==="Object"&&b.constructor&&(_=b.constructor.name),_==="Map"||_==="Set")return Array.from(b);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return a(b,p)}}function a(b,p){(p==null||p>b.length)&&(p=b.length);for(var _=0,y=new Array(p);_<p;_++)y[_]=b[_];return y}var t=function(p,_){return p>=10&&p<60||p>=210&&p<240?parseFloat(_,10):p>=60&&p<100?parseInt(_,10):_},o=function(p){var _="type",y,k=[],P=n(p),w;try{for(P.s();!(w=P.n()).done;){var M=w.value;_==="type"?(y=parseInt(M,10),_="value"):(k.push([y,t(y,M)]),_="type")}}catch(E){P.e(E)}finally{P.f()}return k},d=function(p){var _;return p.reduce(function(y,k){return k[0]===0&&k[1]==="SECTION"?_=[]:k[0]===0&&k[1]==="ENDSEC"?(y.push(_),_=void 0):_!==void 0&&_.push(k),y},[])},g=function(p,_){var y=_[0][1],k=_.slice(1);switch(y){case"HEADER":p.header=(0,s.default)(k);break;case"TABLES":p.tables=(0,l.default)(k);break;case"BLOCKS":p.blocks=(0,u.default)(k);break;case"ENTITIES":p.entities=(0,f.default)(k);break;case"OBJECTS":p.objects=(0,v.default)(k);break;default:i.default.warn("Unsupported section: ".concat(y))}return p},h=function(p){var _=p.split(/\r\n|\r|\n/g),y=o(_),k=d(y),P=k.reduce(g,{header:{},blocks:[],entities:[],objects:{layouts:[]},tables:{layers:{},styles:{}}});return P};e.default=h})(Ce);var se={};function Lr(){this.__data__=[],this.size=0}var Br=Lr;function Yr(e,s){return e===s||e!==e&&s!==s}var Ga=Yr,Nr=Ga;function Rr(e,s){for(var l=e.length;l--;)if(Nr(e[l][0],s))return l;return-1}var ye=Rr,zr=ye,jr=Array.prototype,qr=jr.splice;function Vr(e){var s=this.__data__,l=zr(s,e);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():qr.call(s,l,1),--this.size,!0}var Gr=Vr,Hr=ye;function Xr(e){var s=this.__data__,l=Hr(s,e);return l<0?void 0:s[l][1]}var Ur=Xr,Kr=ye;function Wr(e){return Kr(this.__data__,e)>-1}var Zr=Wr,Qr=ye;function Jr(e,s){var l=this.__data__,u=Qr(l,e);return u<0?(++this.size,l.push([e,s])):l[u][1]=s,this}var et=Jr,at=Br,rt=Gr,tt=Ur,nt=Zr,st=et;function J(e){var s=-1,l=e==null?0:e.length;for(this.clear();++s<l;){var u=e[s];this.set(u[0],u[1])}}J.prototype.clear=at;J.prototype.delete=rt;J.prototype.get=tt;J.prototype.has=nt;J.prototype.set=st;var _e=J,ot=_e;function ct(){this.__data__=new ot,this.size=0}var it=ct;function ut(e){var s=this.__data__,l=s.delete(e);return this.size=s.size,l}var lt=ut;function ft(e){return this.__data__.get(e)}var dt=ft;function vt(e){return this.__data__.has(e)}var bt=vt,ht=typeof ve=="object"&&ve&&ve.Object===Object&&ve,Ha=ht,pt=Ha,gt=typeof self=="object"&&self&&self.Object===Object&&self,yt=pt||gt||Function("return this")(),U=yt,_t=U,mt=_t.Symbol,Ne=mt,ea=Ne,Xa=Object.prototype,kt=Xa.hasOwnProperty,Pt=Xa.toString,ne=ea?ea.toStringTag:void 0;function xt(e){var s=kt.call(e,ne),l=e[ne];try{e[ne]=void 0;var u=!0}catch{}var f=Pt.call(e);return u&&(s?e[ne]=l:delete e[ne]),f}var Tt=xt,wt=Object.prototype,Mt=wt.toString;function At(e){return Mt.call(e)}var Et=At,aa=Ne,$t=Tt,Ot=Et,St="[object Null]",It="[object Undefined]",ra=aa?aa.toStringTag:void 0;function Dt(e){return e==null?e===void 0?It:St:ra&&ra in Object(e)?$t(e):Ot(e)}var me=Dt;function Ct(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}var oe=Ct,Ft=me,Lt=oe,Bt="[object AsyncFunction]",Yt="[object Function]",Nt="[object GeneratorFunction]",Rt="[object Proxy]";function zt(e){if(!Lt(e))return!1;var s=Ft(e);return s==Yt||s==Nt||s==Bt||s==Rt}var Ua=zt,jt=U,qt=jt["__core-js_shared__"],Vt=qt,Me=Vt,ta=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gt(e){return!!ta&&ta in e}var Ht=Gt,Xt=Function.prototype,Ut=Xt.toString;function Kt(e){if(e!=null){try{return Ut.call(e)}catch{}try{return e+""}catch{}}return""}var Ka=Kt,Wt=Ua,Zt=Ht,Qt=oe,Jt=Ka,en=/[\\^$.*+?()[\]{}|]/g,an=/^\[object .+?Constructor\]$/,rn=Function.prototype,tn=Object.prototype,nn=rn.toString,sn=tn.hasOwnProperty,on=RegExp("^"+nn.call(sn).replace(en,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cn(e){if(!Qt(e)||Zt(e))return!1;var s=Wt(e)?on:an;return s.test(Jt(e))}var un=cn;function ln(e,s){return e==null?void 0:e[s]}var fn=ln,dn=un,vn=fn;function bn(e,s){var l=vn(e,s);return dn(l)?l:void 0}var Q=bn,hn=Q,pn=U,gn=hn(pn,"Map"),Re=gn,yn=Q,_n=yn(Object,"create"),ke=_n,na=ke;function mn(){this.__data__=na?na(null):{},this.size=0}var kn=mn;function Pn(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}var xn=Pn,Tn=ke,wn="__lodash_hash_undefined__",Mn=Object.prototype,An=Mn.hasOwnProperty;function En(e){var s=this.__data__;if(Tn){var l=s[e];return l===wn?void 0:l}return An.call(s,e)?s[e]:void 0}var $n=En,On=ke,Sn=Object.prototype,In=Sn.hasOwnProperty;function Dn(e){var s=this.__data__;return On?s[e]!==void 0:In.call(s,e)}var Cn=Dn,Fn=ke,Ln="__lodash_hash_undefined__";function Bn(e,s){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=Fn&&s===void 0?Ln:s,this}var Yn=Bn,Nn=kn,Rn=xn,zn=$n,jn=Cn,qn=Yn;function ee(e){var s=-1,l=e==null?0:e.length;for(this.clear();++s<l;){var u=e[s];this.set(u[0],u[1])}}ee.prototype.clear=Nn;ee.prototype.delete=Rn;ee.prototype.get=zn;ee.prototype.has=jn;ee.prototype.set=qn;var Vn=ee,sa=Vn,Gn=_e,Hn=Re;function Xn(){this.size=0,this.__data__={hash:new sa,map:new(Hn||Gn),string:new sa}}var Un=Xn;function Kn(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}var Wn=Kn,Zn=Wn;function Qn(e,s){var l=e.__data__;return Zn(s)?l[typeof s=="string"?"string":"hash"]:l.map}var Pe=Qn,Jn=Pe;function es(e){var s=Jn(this,e).delete(e);return this.size-=s?1:0,s}var as=es,rs=Pe;function ts(e){return rs(this,e).get(e)}var ns=ts,ss=Pe;function os(e){return ss(this,e).has(e)}var cs=os,is=Pe;function us(e,s){var l=is(this,e),u=l.size;return l.set(e,s),this.size+=l.size==u?0:1,this}var ls=us,fs=Un,ds=as,vs=ns,bs=cs,hs=ls;function ae(e){var s=-1,l=e==null?0:e.length;for(this.clear();++s<l;){var u=e[s];this.set(u[0],u[1])}}ae.prototype.clear=fs;ae.prototype.delete=ds;ae.prototype.get=vs;ae.prototype.has=bs;ae.prototype.set=hs;var ps=ae,gs=_e,ys=Re,_s=ps,ms=200;function ks(e,s){var l=this.__data__;if(l instanceof gs){var u=l.__data__;if(!ys||u.length<ms-1)return u.push([e,s]),this.size=++l.size,this;l=this.__data__=new _s(u)}return l.set(e,s),this.size=l.size,this}var Ps=ks,xs=_e,Ts=it,ws=lt,Ms=dt,As=bt,Es=Ps;function re(e){var s=this.__data__=new xs(e);this.size=s.size}re.prototype.clear=Ts;re.prototype.delete=ws;re.prototype.get=Ms;re.prototype.has=As;re.prototype.set=Es;var $s=re;function Os(e,s){for(var l=-1,u=e==null?0:e.length;++l<u&&s(e[l],l,e)!==!1;);return e}var Ss=Os,Is=Q,Ds=function(){try{var e=Is(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Cs=Ds,oa=Cs;function Fs(e,s,l){s=="__proto__"&&oa?oa(e,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[s]=l}var Wa=Fs,Ls=Wa,Bs=Ga,Ys=Object.prototype,Ns=Ys.hasOwnProperty;function Rs(e,s,l){var u=e[s];(!(Ns.call(e,s)&&Bs(u,l))||l===void 0&&!(s in e))&&Ls(e,s,l)}var Za=Rs,zs=Za,js=Wa;function qs(e,s,l,u){var f=!l;l||(l={});for(var v=-1,i=s.length;++v<i;){var c=s[v],n=u?u(l[c],e[c],c,l,e):void 0;n===void 0&&(n=e[c]),f?js(l,c,n):zs(l,c,n)}return l}var xe=qs;function Vs(e,s){for(var l=-1,u=Array(e);++l<e;)u[l]=s(l);return u}var Gs=Vs;function Hs(e){return e!=null&&typeof e=="object"}var ce=Hs,Xs=me,Us=ce,Ks="[object Arguments]";function Ws(e){return Us(e)&&Xs(e)==Ks}var Zs=Ws,ca=Zs,Qs=ce,Qa=Object.prototype,Js=Qa.hasOwnProperty,eo=Qa.propertyIsEnumerable,ao=ca(function(){return arguments}())?ca:function(e){return Qs(e)&&Js.call(e,"callee")&&!eo.call(e,"callee")},ro=ao,to=Array.isArray,ze=to,he={exports:{}};function no(){return!1}var so=no;he.exports;(function(e,s){var l=U,u=so,f=s&&!s.nodeType&&s,v=f&&!0&&e&&!e.nodeType&&e,i=v&&v.exports===f,c=i?l.Buffer:void 0,n=c?c.isBuffer:void 0,r=n||u;e.exports=r})(he,he.exports);var Ja=he.exports,oo=9007199254740991,co=/^(?:0|[1-9]\d*)$/;function io(e,s){var l=typeof e;return s=s??oo,!!s&&(l=="number"||l!="symbol"&&co.test(e))&&e>-1&&e%1==0&&e<s}var uo=io,lo=9007199254740991;function fo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lo}var er=fo,vo=me,bo=er,ho=ce,po="[object Arguments]",go="[object Array]",yo="[object Boolean]",_o="[object Date]",mo="[object Error]",ko="[object Function]",Po="[object Map]",xo="[object Number]",To="[object Object]",wo="[object RegExp]",Mo="[object Set]",Ao="[object String]",Eo="[object WeakMap]",$o="[object ArrayBuffer]",Oo="[object DataView]",So="[object Float32Array]",Io="[object Float64Array]",Do="[object Int8Array]",Co="[object Int16Array]",Fo="[object Int32Array]",Lo="[object Uint8Array]",Bo="[object Uint8ClampedArray]",Yo="[object Uint16Array]",No="[object Uint32Array]",Y={};Y[So]=Y[Io]=Y[Do]=Y[Co]=Y[Fo]=Y[Lo]=Y[Bo]=Y[Yo]=Y[No]=!0;Y[po]=Y[go]=Y[$o]=Y[yo]=Y[Oo]=Y[_o]=Y[mo]=Y[ko]=Y[Po]=Y[xo]=Y[To]=Y[wo]=Y[Mo]=Y[Ao]=Y[Eo]=!1;function Ro(e){return ho(e)&&bo(e.length)&&!!Y[vo(e)]}var zo=Ro;function jo(e){return function(s){return e(s)}}var je=jo,pe={exports:{}};pe.exports;(function(e,s){var l=Ha,u=s&&!s.nodeType&&s,f=u&&!0&&e&&!e.nodeType&&e,v=f&&f.exports===u,i=v&&l.process,c=function(){try{var n=f&&f.require&&f.require("util").types;return n||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c})(pe,pe.exports);var qe=pe.exports,qo=zo,Vo=je,ia=qe,ua=ia&&ia.isTypedArray,Go=ua?Vo(ua):qo,Ho=Go,Xo=Gs,Uo=ro,Ko=ze,Wo=Ja,Zo=uo,Qo=Ho,Jo=Object.prototype,ec=Jo.hasOwnProperty;function ac(e,s){var l=Ko(e),u=!l&&Uo(e),f=!l&&!u&&Wo(e),v=!l&&!u&&!f&&Qo(e),i=l||u||f||v,c=i?Xo(e.length,String):[],n=c.length;for(var r in e)(s||ec.call(e,r))&&!(i&&(r=="length"||f&&(r=="offset"||r=="parent")||v&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||Zo(r,n)))&&c.push(r);return c}var ar=ac,rc=Object.prototype;function tc(e){var s=e&&e.constructor,l=typeof s=="function"&&s.prototype||rc;return e===l}var Ve=tc;function nc(e,s){return function(l){return e(s(l))}}var rr=nc,sc=rr,oc=sc(Object.keys,Object),cc=oc,ic=Ve,uc=cc,lc=Object.prototype,fc=lc.hasOwnProperty;function dc(e){if(!ic(e))return uc(e);var s=[];for(var l in Object(e))fc.call(e,l)&&l!="constructor"&&s.push(l);return s}var vc=dc,bc=Ua,hc=er;function pc(e){return e!=null&&hc(e.length)&&!bc(e)}var tr=pc,gc=ar,yc=vc,_c=tr;function mc(e){return _c(e)?gc(e):yc(e)}var Ge=mc,kc=xe,Pc=Ge;function xc(e,s){return e&&kc(s,Pc(s),e)}var Tc=xc;function wc(e){var s=[];if(e!=null)for(var l in Object(e))s.push(l);return s}var Mc=wc,Ac=oe,Ec=Ve,$c=Mc,Oc=Object.prototype,Sc=Oc.hasOwnProperty;function Ic(e){if(!Ac(e))return $c(e);var s=Ec(e),l=[];for(var u in e)u=="constructor"&&(s||!Sc.call(e,u))||l.push(u);return l}var Dc=Ic,Cc=ar,Fc=Dc,Lc=tr;function Bc(e){return Lc(e)?Cc(e,!0):Fc(e)}var He=Bc,Yc=xe,Nc=He;function Rc(e,s){return e&&Yc(s,Nc(s),e)}var zc=Rc,ge={exports:{}};ge.exports;(function(e,s){var l=U,u=s&&!s.nodeType&&s,f=u&&!0&&e&&!e.nodeType&&e,v=f&&f.exports===u,i=v?l.Buffer:void 0,c=i?i.allocUnsafe:void 0;function n(r,a){if(a)return r.slice();var t=r.length,o=c?c(t):new r.constructor(t);return r.copy(o),o}e.exports=n})(ge,ge.exports);var jc=ge.exports;function qc(e,s){var l=-1,u=e.length;for(s||(s=Array(u));++l<u;)s[l]=e[l];return s}var Vc=qc;function Gc(e,s){for(var l=-1,u=e==null?0:e.length,f=0,v=[];++l<u;){var i=e[l];s(i,l,e)&&(v[f++]=i)}return v}var Hc=Gc;function Xc(){return[]}var nr=Xc,Uc=Hc,Kc=nr,Wc=Object.prototype,Zc=Wc.propertyIsEnumerable,la=Object.getOwnPropertySymbols,Qc=la?function(e){return e==null?[]:(e=Object(e),Uc(la(e),function(s){return Zc.call(e,s)}))}:Kc,Xe=Qc,Jc=xe,ei=Xe;function ai(e,s){return Jc(e,ei(e),s)}var ri=ai;function ti(e,s){for(var l=-1,u=s.length,f=e.length;++l<u;)e[f+l]=s[l];return e}var sr=ti,ni=rr,si=ni(Object.getPrototypeOf,Object),or=si,oi=sr,ci=or,ii=Xe,ui=nr,li=Object.getOwnPropertySymbols,fi=li?function(e){for(var s=[];e;)oi(s,ii(e)),e=ci(e);return s}:ui,cr=fi,di=xe,vi=cr;function bi(e,s){return di(e,vi(e),s)}var hi=bi,pi=sr,gi=ze;function yi(e,s,l){var u=s(e);return gi(e)?u:pi(u,l(e))}var ir=yi,_i=ir,mi=Xe,ki=Ge;function Pi(e){return _i(e,ki,mi)}var xi=Pi,Ti=ir,wi=cr,Mi=He;function Ai(e){return Ti(e,Mi,wi)}var Ei=Ai,$i=Q,Oi=U,Si=$i(Oi,"DataView"),Ii=Si,Di=Q,Ci=U,Fi=Di(Ci,"Promise"),Li=Fi,Bi=Q,Yi=U,Ni=Bi(Yi,"Set"),Ri=Ni,zi=Q,ji=U,qi=zi(ji,"WeakMap"),Vi=qi,Ae=Ii,Ee=Re,$e=Li,Oe=Ri,Se=Vi,ur=me,te=Ka,fa="[object Map]",Gi="[object Object]",da="[object Promise]",va="[object Set]",ba="[object WeakMap]",ha="[object DataView]",Hi=te(Ae),Xi=te(Ee),Ui=te($e),Ki=te(Oe),Wi=te(Se),Z=ur;(Ae&&Z(new Ae(new ArrayBuffer(1)))!=ha||Ee&&Z(new Ee)!=fa||$e&&Z($e.resolve())!=da||Oe&&Z(new Oe)!=va||Se&&Z(new Se)!=ba)&&(Z=function(e){var s=ur(e),l=s==Gi?e.constructor:void 0,u=l?te(l):"";if(u)switch(u){case Hi:return ha;case Xi:return fa;case Ui:return da;case Ki:return va;case Wi:return ba}return s});var Ue=Z,Zi=Object.prototype,Qi=Zi.hasOwnProperty;function Ji(e){var s=e.length,l=new e.constructor(s);return s&&typeof e[0]=="string"&&Qi.call(e,"index")&&(l.index=e.index,l.input=e.input),l}var eu=Ji,au=U,ru=au.Uint8Array,tu=ru,pa=tu;function nu(e){var s=new e.constructor(e.byteLength);return new pa(s).set(new pa(e)),s}var Ke=nu,su=Ke;function ou(e,s){var l=s?su(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}var cu=ou,iu=/\w*$/;function uu(e){var s=new e.constructor(e.source,iu.exec(e));return s.lastIndex=e.lastIndex,s}var lu=uu,ga=Ne,ya=ga?ga.prototype:void 0,_a=ya?ya.valueOf:void 0;function fu(e){return _a?Object(_a.call(e)):{}}var du=fu,vu=Ke;function bu(e,s){var l=s?vu(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}var hu=bu,pu=Ke,gu=cu,yu=lu,_u=du,mu=hu,ku="[object Boolean]",Pu="[object Date]",xu="[object Map]",Tu="[object Number]",wu="[object RegExp]",Mu="[object Set]",Au="[object String]",Eu="[object Symbol]",$u="[object ArrayBuffer]",Ou="[object DataView]",Su="[object Float32Array]",Iu="[object Float64Array]",Du="[object Int8Array]",Cu="[object Int16Array]",Fu="[object Int32Array]",Lu="[object Uint8Array]",Bu="[object Uint8ClampedArray]",Yu="[object Uint16Array]",Nu="[object Uint32Array]";function Ru(e,s,l){var u=e.constructor;switch(s){case $u:return pu(e);case ku:case Pu:return new u(+e);case Ou:return gu(e,l);case Su:case Iu:case Du:case Cu:case Fu:case Lu:case Bu:case Yu:case Nu:return mu(e,l);case xu:return new u;case Tu:case Au:return new u(e);case wu:return yu(e);case Mu:return new u;case Eu:return _u(e)}}var zu=Ru,ju=oe,ma=Object.create,qu=function(){function e(){}return function(s){if(!ju(s))return{};if(ma)return ma(s);e.prototype=s;var l=new e;return e.prototype=void 0,l}}(),Vu=qu,Gu=Vu,Hu=or,Xu=Ve;function Uu(e){return typeof e.constructor=="function"&&!Xu(e)?Gu(Hu(e)):{}}var Ku=Uu,Wu=Ue,Zu=ce,Qu="[object Map]";function Ju(e){return Zu(e)&&Wu(e)==Qu}var el=Ju,al=el,rl=je,ka=qe,Pa=ka&&ka.isMap,tl=Pa?rl(Pa):al,nl=tl,sl=Ue,ol=ce,cl="[object Set]";function il(e){return ol(e)&&sl(e)==cl}var ul=il,ll=ul,fl=je,xa=qe,Ta=xa&&xa.isSet,dl=Ta?fl(Ta):ll,vl=dl,bl=$s,hl=Ss,pl=Za,gl=Tc,yl=zc,_l=jc,ml=Vc,kl=ri,Pl=hi,xl=xi,Tl=Ei,wl=Ue,Ml=eu,Al=zu,El=Ku,$l=ze,Ol=Ja,Sl=nl,Il=oe,Dl=vl,Cl=Ge,Fl=He,Ll=1,Bl=2,Yl=4,lr="[object Arguments]",Nl="[object Array]",Rl="[object Boolean]",zl="[object Date]",jl="[object Error]",fr="[object Function]",ql="[object GeneratorFunction]",Vl="[object Map]",Gl="[object Number]",dr="[object Object]",Hl="[object RegExp]",Xl="[object Set]",Ul="[object String]",Kl="[object Symbol]",Wl="[object WeakMap]",Zl="[object ArrayBuffer]",Ql="[object DataView]",Jl="[object Float32Array]",ef="[object Float64Array]",af="[object Int8Array]",rf="[object Int16Array]",tf="[object Int32Array]",nf="[object Uint8Array]",sf="[object Uint8ClampedArray]",of="[object Uint16Array]",cf="[object Uint32Array]",L={};L[lr]=L[Nl]=L[Zl]=L[Ql]=L[Rl]=L[zl]=L[Jl]=L[ef]=L[af]=L[rf]=L[tf]=L[Vl]=L[Gl]=L[dr]=L[Hl]=L[Xl]=L[Ul]=L[Kl]=L[nf]=L[sf]=L[of]=L[cf]=!0;L[jl]=L[fr]=L[Wl]=!1;function be(e,s,l,u,f,v){var i,c=s&Ll,n=s&Bl,r=s&Yl;if(l&&(i=f?l(e,u,f,v):l(e)),i!==void 0)return i;if(!Il(e))return e;var a=$l(e);if(a){if(i=Ml(e),!c)return ml(e,i)}else{var t=wl(e),o=t==fr||t==ql;if(Ol(e))return _l(e,c);if(t==dr||t==lr||o&&!f){if(i=n||o?{}:El(e),!c)return n?Pl(e,yl(i,e)):kl(e,gl(i,e))}else{if(!L[t])return f?e:{};i=Al(e,t,c)}}v||(v=new bl);var d=v.get(e);if(d)return d;v.set(e,i),Dl(e)?e.forEach(function(b){i.add(be(b,s,l,b,e,v))}):Sl(e)&&e.forEach(function(b,p){i.set(p,be(b,s,l,p,e,v))});var g=r?n?Tl:xl:n?Fl:Cl,h=a?void 0:g(e);return hl(h||e,function(b,p){h&&(p=b,b=e[p]),pl(i,p,be(b,s,l,p,e,v))}),i}var uf=be,lf=uf,ff=1,df=4;function vf(e){return lf(e,ff|df)}var bf=vf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=u(bf),l=u(X);function u(i){return i&&i.__esModule?i:{default:i}}function f(i){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},f(i)}var v=function(c){var n=c.blocks.reduce(function(a,t){return a[t.name]=t,a},{}),r=function a(t,o){var d=[];return t.forEach(function(g){if(g.type==="INSERT"){var h=function(){var p,_,y,k,P,w=g,M=n[w.block];if(!M)return l.default.error("no block found for insert. block:",w.block),{v:void 0};var E=(p=w.rowCount)!==null&&p!==void 0?p:1,S=(_=w.columnCount)!==null&&_!==void 0?_:1,B=(y=w.rowSpacing)!==null&&y!==void 0?y:0,R=(k=w.columnSpacing)!==null&&k!==void 0?k:0,q=(P=w.rotation)!==null&&P!==void 0?P:0,z,N;if(E>1||S>1){var x=Math.cos(q*Math.PI/180),m=Math.sin(q*Math.PI/180);z={x:-m*B,y:x*B},N={x:x*R,y:m*R}}else z={x:0,y:0},N={x:0,y:0};for(var T=0;T<E;T++)for(var A=0;A<S;A++){var $={x:w.x+z.x*T+N.x*A,y:w.y+z.y*T+N.y*A,scaleX:w.scaleX,scaleY:w.scaleY,scaleZ:w.scaleZ,extrusionX:w.extrusionX,extrusionY:w.extrusionY,extrusionZ:w.extrusionZ,rotation:w.rotation},I=o.slice(0);I.push($);var O=M.entities.map(function(D){var C=(0,s.default)(D);switch(C.layer=w.layer,C.type){case"LINE":{C.start.x-=M.x,C.start.y-=M.y,C.end.x-=M.x,C.end.y-=M.y;break}case"LWPOLYLINE":case"POLYLINE":{C.vertices.forEach(function(F){F.x-=M.x,F.y-=M.y});break}case"CIRCLE":case"ELLIPSE":case"ARC":{C.x-=M.x,C.y-=M.y;break}case"SPLINE":{C.controlPoints.forEach(function(F){F.x-=M.x,F.y-=M.y});break}}return C});d=d.concat(a(O,I))}}();if(f(h)==="object")return h.v}else{var b=(0,s.default)(g);b.transforms=o.slice().reverse(),d.push(b)}}),d};return r(c.entities,[])};e.default=v})(se);var We={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u){return u.reduce(function(f,v){var i=v.layer;return f[i]||(f[i]=[]),f[i].push(v),f},{})};e.default=s})(We);var Ze={},ie={},Te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function s(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(r){return typeof r}:s=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(c)}function l(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function u(c,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function f(c,n,r){return n&&u(c.prototype,n),c}var v=function(){function c(n,r){l(this,c),s(n)==="object"?(this.x=n.x,this.y=n.y):(this.x=n,this.y=r)}return f(c,[{key:"equals",value:function(r){return this.x===r.x&&this.y===r.y}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"neg",value:function(){return new c(-this.x,-this.y)}},{key:"add",value:function(r){return new c(this.x+r.x,this.y+r.y)}},{key:"sub",value:function(r){return new c(this.x-r.x,this.y-r.y)}},{key:"multiply",value:function(r){return new c(this.x*r,this.y*r)}},{key:"norm",value:function(){return this.multiply(1/this.length())}},{key:"dot",value:function(r){return this.x*r.x+this.y*r.y}}]),c}(),i=v;e.default=i})(Te);var ue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function s(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(r){return typeof r}:s=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(c)}function l(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function u(c,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function f(c,n,r){return n&&u(c.prototype,n),c}var v=function(){function c(n,r,a){l(this,c),s(n)==="object"?(this.x=n.x,this.y=n.y,this.z=n.z):n===void 0?(this.x=0,this.y=0,this.z=0):(this.x=n,this.y=r,this.z=a)}return f(c,[{key:"equals",value:function(r,a){return a===void 0&&(a=0),Math.abs(this.x-r.x)<=a&&Math.abs(this.y-r.y)<=a&&Math.abs(this.z-r.z)<=a}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"neg",value:function(){return new c(-this.x,-this.y,-this.z)}},{key:"add",value:function(r){return new c(this.x+r.x,this.y+r.y,this.z+r.z)}},{key:"sub",value:function(r){return new c(this.x-r.x,this.y-r.y,this.z-r.z)}},{key:"multiply",value:function(r){return new c(this.x*r,this.y*r,this.z*r)}},{key:"norm",value:function(){return this.multiply(1/this.length())}},{key:"dot",value:function(r){return this.x*r.x+this.y*r.y+this.z*r.z}},{key:"cross",value:function(r){return new c(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}}]),c}(),i=v;e.default=i})(ue);var vr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(Te);function l(r){return r&&r.__esModule?r:{default:r}}function u(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(t){return typeof t}:u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(r)}function f(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function v(r,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function i(r,a,t){return a&&v(r.prototype,a),r}var c=function(){function r(a,t){if(f(this,r),u(a)==="object"&&u(t)==="object"&&a.x!==void 0&&a.y!==void 0&&t.x!==void 0&&t.y!==void 0)this.min=new s.default(a),this.max=new s.default(t),this.valid=!0;else if(a===void 0&&t===void 0)this.min=new s.default(1/0,1/0),this.max=new s.default(-1/0,-1/0),this.valid=!1;else throw Error("Illegal construction - must use { x, y } objects")}return i(r,[{key:"equals",value:function(t){if(!this.valid)throw Error("Box2 is invalid");return this.min.equals(t.min)&&this.max.equals(t.max)}},{key:"expandByPoint",value:function(t){return this.min=new s.default(Math.min(this.min.x,t.x),Math.min(this.min.y,t.y)),this.max=new s.default(Math.max(this.max.x,t.x),Math.max(this.max.y,t.y)),this.valid=!0,this}},{key:"expandByPoints",value:function(t){var o=this;return t.forEach(function(d){o.expandByPoint(d)},this),this}},{key:"isPointInside",value:function(t){return t.x>=this.min.x&&t.y>=this.min.y&&t.x<=this.max.x&&t.y<=this.max.y}},{key:"width",get:function(){if(!this.valid)throw Error("Box2 is invalid");return this.max.x-this.min.x}},{key:"height",get:function(){if(!this.valid)throw Error("Box2 is invalid");return this.max.y-this.min.y}}]),r}();c.fromPoints=function(r){return new c().expandByPoints(r)};var n=c;e.default=n})(vr);var br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(ue);function l(r){return r&&r.__esModule?r:{default:r}}function u(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(t){return typeof t}:u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(r)}function f(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function v(r,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function i(r,a,t){return a&&v(r.prototype,a),r}var c=function(){function r(a,t){if(f(this,r),u(a)==="object"&&u(t)==="object"&&a.x!==void 0&&a.y!==void 0&&a.z!==void 0&&t.x!==void 0&&t.y!==void 0&&t.z!==void 0)this.min=new s.default(a),this.max=new s.default(t),this.valid=!0;else if(a===void 0&&t===void 0)this.min=new s.default(1/0,1/0,1/0),this.max=new s.default(-1/0,-1/0,-1/0),this.valid=!1;else throw Error("Illegal construction - must use { x, y, z } objects")}return i(r,[{key:"equals",value:function(t){if(!this.valid)throw Error("Box3 is invalid");return this.min.equals(t.min)&&this.max.equals(t.max)}},{key:"expandByPoint",value:function(t){return this.min=new s.default(Math.min(this.min.x,t.x),Math.min(this.min.y,t.y),Math.min(this.min.z,t.z)),this.max=new s.default(Math.max(this.max.x,t.x),Math.max(this.max.y,t.y),Math.max(this.max.z,t.z)),this.valid=!0,this}},{key:"expandByPoints",value:function(t){var o=this;return t.forEach(function(d){o.expandByPoint(d)},this),this}},{key:"isPointInside",value:function(t){return t.x>=this.min.x&&t.y>=this.min.y&&t.z>=this.min.z&&t.x<=this.max.x&&t.y<=this.max.y&&t.z<=this.max.z}},{key:"width",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.x-this.min.x}},{key:"depth",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.y-this.min.y}},{key:"height",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.z-this.min.z}}]),r}();c.fromPoints=function(r){return new c().expandByPoints(r)};var n=c;e.default=n})(br);var hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function s(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}function l(i,c){for(var n=0;n<c.length;n++){var r=c[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function u(i,c,n){return c&&l(i.prototype,c),i}var f=function(){function i(c,n,r,a){s(this,i),this.a=c,this.b=n,this.c=r,this.d=a}return u(i,[{key:"distanceToPoint",value:function(n){var r=(this.a*n.x+this.b*n.y+this.c*n.z+this.d)/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);return r}},{key:"equals",value:function(n){return this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d}},{key:"coPlanar",value:function(n){var r=this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d,a=this.a===-n.a&&this.b===-n.b&&this.c===-n.c&&this.d===-n.d;return r||a}}]),i}();f.fromPointAndNormal=function(i,c){var n=c.x,r=c.y,a=c.z,t=-(i.x*n+i.y*r+i.z*a);return new f(c.x,c.y,c.z,t)},f.fromPoints=function(i){for(var c,n=0,r=i.length;n<r;++n){var a=i[(n+1)%r].sub(i[n]),t=i[(n+2)%r].sub(i[(n+1)%r]),o=a.cross(t);if(!(isNaN(o.length())||o.length()===0))if(!c)c=o.norm();else{var d=o.norm().equals(c,1e-6),g=o.neg().norm().equals(c,1e-6);if(!(d||g))throw Error("points not on a plane")}}if(!c)throw Error("points not on a plane");return f.fromPointAndNormal(i[0],c.norm())};var v=f;e.default=v})(hr);var pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(ue);function l(n){return n&&n.__esModule?n:{default:n}}function u(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function f(n,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function v(n,r,a){return r&&f(n.prototype,r),n}var i=function(){function n(r,a,t,o){u(this,n),this.x=r,this.y=a,this.z=t,this.w=o}return v(n,[{key:"applyToVec3",value:function(a){var t=a.x,o=a.y,d=a.z,g=this.x,h=this.y,b=this.z,p=this.w,_=p*t+h*d-b*o,y=p*o+b*t-g*d,k=p*d+g*o-h*t,P=-g*t-h*o-b*d;return new s.default(_*p+P*-g+y*-b-k*-h,y*p+P*-h+k*-g-_*-b,k*p+P*-b+_*-h-y*-g)}}]),n}();i.fromAxisAngle=function(n,r){var a=n.norm(),t=r/2,o=Math.sin(t);return new i(a.x*o,a.y*o,a.z*o,Math.cos(t))};var c=i;e.default=c})(pr);var gr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(Te);function l(d){return d&&d.__esModule?d:{default:d}}function u(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(h){return typeof h}:u=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},u(d)}function f(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function v(d,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}function i(d,g,h){return g&&v(d.prototype,g),d}var c=function(g,h,b){var p=g.x,_=g.y,y=h.x,k=h.y,P=b.x,w=b.y,M=(w-_)*(y-p),E=(k-_)*(P-p);return M>E+Number.EPSILON?1:M+Number.EPSILON<E?-1:0},n=function(g,h){var b=g.a,p=g.b,_=h.a,y=h.b;return c(b,_,y)!==c(p,_,y)&&c(b,p,_)!==c(b,p,y)},r=function(g,h){var b=g.a.x,p=g.b.x,_=g.a.y,y=g.b.y,k=h.a.x,P=h.b.x,w=h.a.y,M=h.b.y,E=b-p,S=k-P,B=_-y,R=w-M,q=E*R-B*S,z=((b*y-_*p)*S-E*(k*M-w*P))/q,N=((b*y-_*p)*R-B*(k*M-w*P))/q;return isNaN(z)||isNaN(N)?null:new s.default(z,N)},a=function(g,h){return Math.sqrt(Math.pow(g.x-h.x,2)+Math.pow(g.y-h.y,2))},t=function(){function d(g,h){if(f(this,d),u(g)!=="object"||g.x===void 0||g.y===void 0)throw Error("expected first argument to have x and y properties");if(u(h)!=="object"||h.x===void 0||h.y===void 0)throw Error("expected second argument to have x and y properties");this.a=new s.default(g),this.b=new s.default(h)}return i(d,[{key:"length",value:function(){return this.a.sub(this.b).length()}},{key:"intersects",value:function(h){if(!(h instanceof d))throw new Error("expected argument to be an instance of vecks.Line2");return n(this,h)}},{key:"getIntersection",value:function(h){return this.intersects(h)?r(this,h):null}},{key:"containsPoint",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e-12;return Math.abs(a(this.a,this.b)-a(h,this.a)-a(h,this.b))<b}}]),d}(),o=t;e.default=o})(gr);var yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(ue);function l(a){return a&&a.__esModule?a:{default:a}}function u(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(o){return typeof o}:u=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},u(a)}function f(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function v(a,t){for(var o=0;o<t.length;o++){var d=t[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,t,o){return t&&v(a.prototype,t),a}var c=function(t,o){return Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2)+Math.pow(t.z-o.z,2))},n=function(){function a(t,o){if(f(this,a),u(t)!=="object"||t.x===void 0||t.y===void 0||t.z===void 0)throw Error("expected first argument to have x, y and z properties");if(u(o)!=="object"||o.x===void 0||o.y===void 0||o.y===void 0)throw Error("expected second argument to have x, y and z properties");this.a=new s.default(t),this.b=new s.default(o)}return i(a,[{key:"length",value:function(){return this.a.sub(this.b).length()}},{key:"containsPoint",value:function(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e-12;return Math.abs(c(this.a,this.b)-c(o,this.a)-c(o,this.b))<d}}]),a}(),r=n;e.default=r})(yr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"V2",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"V3",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Box2",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Box3",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Plane3",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"Quaternion",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Line2",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Line3",{enumerable:!0,get:function(){return n.default}});var s=r(Te),l=r(ue),u=r(vr),f=r(br),v=r(hr),i=r(pr),c=r(gr),n=r(yr);function r(a){return a&&a.__esModule?a:{default:a}}})(ie);var we={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=[[0,0,0],[255,0,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[255,0,255],[255,255,255],[65,65,65],[128,128,128],[255,0,0],[255,170,170],[189,0,0],[189,126,126],[129,0,0],[129,86,86],[104,0,0],[104,69,69],[79,0,0],[79,53,53],[255,63,0],[255,191,170],[189,46,0],[189,141,126],[129,31,0],[129,96,86],[104,25,0],[104,78,69],[79,19,0],[79,59,53],[255,127,0],[255,212,170],[189,94,0],[189,157,126],[129,64,0],[129,107,86],[104,52,0],[104,86,69],[79,39,0],[79,66,53],[255,191,0],[255,234,170],[189,141,0],[189,173,126],[129,96,0],[129,118,86],[104,78,0],[104,95,69],[79,59,0],[79,73,53],[255,255,0],[255,255,170],[189,189,0],[189,189,126],[129,129,0],[129,129,86],[104,104,0],[104,104,69],[79,79,0],[79,79,53],[191,255,0],[234,255,170],[141,189,0],[173,189,126],[96,129,0],[118,129,86],[78,104,0],[95,104,69],[59,79,0],[73,79,53],[127,255,0],[212,255,170],[94,189,0],[157,189,126],[64,129,0],[107,129,86],[52,104,0],[86,104,69],[39,79,0],[66,79,53],[63,255,0],[191,255,170],[46,189,0],[141,189,126],[31,129,0],[96,129,86],[25,104,0],[78,104,69],[19,79,0],[59,79,53],[0,255,0],[170,255,170],[0,189,0],[126,189,126],[0,129,0],[86,129,86],[0,104,0],[69,104,69],[0,79,0],[53,79,53],[0,255,63],[170,255,191],[0,189,46],[126,189,141],[0,129,31],[86,129,96],[0,104,25],[69,104,78],[0,79,19],[53,79,59],[0,255,127],[170,255,212],[0,189,94],[126,189,157],[0,129,64],[86,129,107],[0,104,52],[69,104,86],[0,79,39],[53,79,66],[0,255,191],[170,255,234],[0,189,141],[126,189,173],[0,129,96],[86,129,118],[0,104,78],[69,104,95],[0,79,59],[53,79,73],[0,255,255],[170,255,255],[0,189,189],[126,189,189],[0,129,129],[86,129,129],[0,104,104],[69,104,104],[0,79,79],[53,79,79],[0,191,255],[170,234,255],[0,141,189],[126,173,189],[0,96,129],[86,118,129],[0,78,104],[69,95,104],[0,59,79],[53,73,79],[0,127,255],[170,212,255],[0,94,189],[126,157,189],[0,64,129],[86,107,129],[0,52,104],[69,86,104],[0,39,79],[53,66,79],[0,63,255],[170,191,255],[0,46,189],[126,141,189],[0,31,129],[86,96,129],[0,25,104],[69,78,104],[0,19,79],[53,59,79],[0,0,255],[170,170,255],[0,0,189],[126,126,189],[0,0,129],[86,86,129],[0,0,104],[69,69,104],[0,0,79],[53,53,79],[63,0,255],[191,170,255],[46,0,189],[141,126,189],[31,0,129],[96,86,129],[25,0,104],[78,69,104],[19,0,79],[59,53,79],[127,0,255],[212,170,255],[94,0,189],[157,126,189],[64,0,129],[107,86,129],[52,0,104],[86,69,104],[39,0,79],[66,53,79],[191,0,255],[234,170,255],[141,0,189],[173,126,189],[96,0,129],[118,86,129],[78,0,104],[95,69,104],[59,0,79],[73,53,79],[255,0,255],[255,170,255],[189,0,189],[189,126,189],[129,0,129],[129,86,129],[104,0,104],[104,69,104],[79,0,79],[79,53,79],[255,0,191],[255,170,234],[189,0,141],[189,126,173],[129,0,96],[129,86,118],[104,0,78],[104,69,95],[79,0,59],[79,53,73],[255,0,127],[255,170,212],[189,0,94],[189,126,157],[129,0,64],[129,86,107],[104,0,52],[104,69,86],[79,0,39],[79,53,66],[255,0,63],[255,170,191],[189,0,46],[189,126,141],[129,0,31],[129,86,96],[104,0,25],[104,69,78],[79,0,19],[79,53,59],[51,51,51],[80,80,80],[105,105,105],[130,130,130],[190,190,190],[255,255,255]];e.default=s})(we);var Qe={},_r={},mr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u,f){return typeof f>"u"||+f==0?Math.round(u):(u=+u,f=+f,isNaN(u)||!(typeof f=="number"&&f%1===0)?NaN:(u=u.toString().split("e"),u=Math.round(+(u[0]+"e"+(u[1]?+u[1]-f:-f))),u=u.toString().split("e"),+(u[0]+"e"+(u[1]?+u[1]+f:f))))};e.default=s})(mr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(mr);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(v,i,c,n,r){var a=c.length,t=c[0].length;if(v<0||v>1)throw new Error("t out of bounds [0,1]: "+v);if(i<1)throw new Error("degree must be at least 1 (linear)");if(i>a-1)throw new Error("degree must be less than or equal to point count - 1");if(!r){r=[];for(var o=0;o<a;o++)r[o]=1}if(n){if(n.length!==a+i+1)throw new Error("bad knot vector length")}else{n=[];for(var d=0;d<a+i+1;d++)n[d]=d}var g=[i,n.length-1-i],h=n[g[0]],b=n[g[1]];v=v*(b-h)+h,v=Math.max(v,h),v=Math.min(v,b);var p;for(p=g[0];p<g[1]&&!(v>=n[p]&&v<=n[p+1]);p++);for(var _=[],y=0;y<a;y++){_[y]=[];for(var k=0;k<t;k++)_[y][k]=c[y][k]*r[y];_[y][t]=r[y]}for(var P,w=1;w<=i+1;w++)for(var M=p;M>p-i-1+w;M--){P=(v-n[M])/(n[M+i+1-w]-n[M]);for(var E=0;E<t+1;E++)_[M][E]=(1-P)*_[M-1][E]+P*_[M][E]}for(var S=[],B=0;B<t;B++)S[B]=(0,s.default)(_[p][B]/_[p][t],-9);return S};e.default=u})(_r);var kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=ie,l=function(f,v,i,c){c||(c=5);var n,r,a;i<0?(n=Math.atan(-i)*4,r=new s.V2(f[0],f[1]),a=new s.V2(v[0],v[1])):(n=Math.atan(i)*4,r=new s.V2(v[0],v[1]),a=new s.V2(f[0],f[1]));var t=a.sub(r),o=t.length(),d=r.add(t.multiply(.5)),g=Math.abs(o/2/Math.tan(n/2)),h=t.norm(),b;if(n<Math.PI){var p=new s.V2(h.x*Math.cos(Math.PI/2)-h.y*Math.sin(Math.PI/2),h.y*Math.cos(Math.PI/2)+h.x*Math.sin(Math.PI/2));b=d.add(p.multiply(-g))}else{var _=new s.V2(h.x*Math.cos(Math.PI/2)-h.y*Math.sin(Math.PI/2),h.y*Math.cos(Math.PI/2)+h.x*Math.sin(Math.PI/2));b=d.add(_.multiply(g))}var y=Math.atan2(a.y-b.y,a.x-b.x)/Math.PI*180,k=Math.atan2(r.y-b.y,r.x-b.x)/Math.PI*180;k<y&&(k+=360);for(var P=a.sub(b).length(),w=Math.floor(y/c)*c+c,M=Math.ceil(k/c)*c-c,E=[],S=w;S<=M;S+=c)E.push(b.add(new s.V2(Math.cos(S/180*Math.PI)*P,Math.sin(S/180*Math.PI)*P)));return i<0&&E.reverse(),E.map(function(B){return[B.x,B.y]})};e.default=l})(kr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.interpolateBSpline=e.default=void 0;var s=f(_r),l=f(X),u=f(kr);function f(r){return r&&r.__esModule?r:{default:r}}var v=function(a,t){return a.map(function(o){return[o[0]*Math.cos(t)-o[1]*Math.sin(t),o[1]*Math.cos(t)+o[0]*Math.sin(t)]})},i=function(a,t,o,d,g,h,b){h<g&&(h+=Math.PI*2);for(var p=[],_=Math.PI*2/72,y=1e-6,k=g;k<h-y;k+=_)p.push([Math.cos(k)*o,Math.sin(k)*d]);return p.push([Math.cos(h)*o,Math.sin(h)*d]),b&&(p=v(p,b)),p=p.map(function(P){return[a+P[0],t+P[1]]}),p},c=function(a,t,o,d,g){for(var h=[],b=a.map(function(R){return[R.x,R.y]}),p=[o[t]],_=[o[t],o[o.length-1-t]],y=t+1;y<o.length-t;++y)p[p.length-1]!==o[y]&&p.push(o[y]);d=d||25;for(var k=1;k<p.length;++k)for(var P=p[k-1],w=p[k],M=0;M<=d;++M){var E=M/d*(w-P)+P,S=(E-_[0])/(_[1]-_[0]);S=Math.max(S,0),S=Math.min(S,1);var B=(0,s.default)(S,t,b,o,g);h.push(B)}return h};e.interpolateBSpline=c;var n=function(a,t){t=t||{};var o;if(a.type==="LINE"&&(o=[[a.start.x,a.start.y],[a.end.x,a.end.y]]),(a.type==="LWPOLYLINE"||a.type==="POLYLINE")&&(o=[],!(a.polygonMesh||a.polyfaceMesh)))if(a.vertices.length){a.closed&&(a.vertices=a.vertices.concat(a.vertices[0]));for(var d=0,g=a.vertices.length;d<g-1;++d){var h=[a.vertices[d].x,a.vertices[d].y],b=[a.vertices[d+1].x,a.vertices[d+1].y];o.push(h),a.vertices[d].bulge&&(o=o.concat((0,u.default)(h,b,a.vertices[d].bulge))),d===g-2&&o.push(b)}}else l.default.warn("Polyline entity with no vertices");if(a.type==="CIRCLE"&&(o=i(a.x,a.y,a.r,a.r,0,Math.PI*2),a.extrusionZ===-1&&(o=o.map(function(k){return[-k[0],k[1]]}))),a.type==="ELLIPSE"){var p=Math.sqrt(a.majorX*a.majorX+a.majorY*a.majorY),_=a.axisRatio*p,y=-Math.atan2(-a.majorY,a.majorX);o=i(a.x,a.y,p,_,a.startAngle,a.endAngle,y),a.extrusionZ===-1&&(o=o.map(function(k){return[-k[0],k[1]]}))}return a.type==="ARC"&&(o=i(a.x,a.y,a.r,a.r,a.startAngle,a.endAngle,void 0),a.extrusionZ===-1&&(o=o.map(function(k){return[-k[0],k[1]]}))),a.type==="SPLINE"&&(o=c(a.controlPoints,a.degree,a.knots,t.interpolationsPerSplineSegment,a.weights)),o||(l.default.warn("unsupported entity for converting to polyline:",a.type),[])};e.default=n})(Qe);var Pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u,f){return f.forEach(function(v){u=u.map(function(i){var c=[i[0],i[1]];if(v.scaleX&&(c[0]=c[0]*v.scaleX),v.scaleY&&(c[1]=c[1]*v.scaleY),v.rotation){var n=v.rotation/180*Math.PI;c=[c[0]*Math.cos(n)-c[1]*Math.sin(n),c[1]*Math.cos(n)+c[0]*Math.sin(n)]}return v.x&&(c[0]=c[0]+v.x),v.y&&(c[1]=c[1]+v.y),v.extrusionZ===-1&&(c[0]=-c[0]),c})}),u};e.default=s})(Pr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=ie,l=c(we),u=c(se),f=c(Qe),v=c(Pr),i=c(X);function c(r){return r&&r.__esModule?r:{default:r}}var n=function(a){var t=(0,u.default)(a),o=t.map(function(g){var h=a.tables.layers[g.layer],b;if(h){var p="colorNumber"in g?g.colorNumber:h.colorNumber;b=l.default[p],b===void 0&&(i.default.warn("Color index",p,"invalid, defaulting to black"),b=[0,0,0])}else i.default.warn("no layer table for layer:"+g.layer),b=[0,0,0];return{rgb:b,vertices:(0,v.default)((0,f.default)(g),g.transforms)}}),d=new s.Box2;return o.forEach(function(g){g.vertices.forEach(function(h){d.expandByPoint({x:h[0],y:h[1]})})}),{bbox:d,polylines:o}};e.default=n})(Ze);var Je={},xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=u(we),l=u(X);function u(v){return v&&v.__esModule?v:{default:v}}var f=function(i,c){var n=i[c.layer];if(n){var r="colorNumber"in c&&c.colorNumber!==256,a=r?c.colorNumber:n.colorNumber,t=s.default[a];return t||(l.default.warn("Color index",a,"invalid, defaulting to black"),[0,0,0])}else return l.default.warn("no layer table for layer:"+c.layer),[0,0,0]};e.default=f})(xr);var Tr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u,f){return{x:u.x*Math.cos(f)-u.y*Math.sin(f),y:u.y*Math.cos(f)+u.x*Math.sin(f)}};e.default=s})(Tr);var wr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u){return u[0]===255&&u[1]===255&&u[2]===255?"rgb(0, 0, 0)":"rgb(".concat(u[0],", ").concat(u[1],", ").concat(u[2],")")};e.default=s})(wr);var Mr={},Ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u,f,v,i){for(var c=v,n=f,r=f.length,a=0,t=!1,o=0;o<r+u;o++)if(i>c[o]&&i<=c[o+1]){a=o,t=!0;break}if(!t)throw new Error("invalid new knot");for(var d=[],g=0;g<r+u+1;g++)g<=a?d[g]=c[g]:g===a+1?d[g]=i:d[g]=c[g-1];for(var h,b=[],p=0;p<r+1;p++)p<=a-u+1?h=1:a-u+2<=p&&p<=a?c[p+u-1]-c[p]===0?h=0:h=(i-c[p])/(c[p+u-1]-c[p]):h=0,h===0?b[p]=n[p-1]:h===1?b[p]=n[p]:b[p]={x:(1-h)*n[p-1].x+h*n[p].x,y:(1-h)*n[p-1].y+h*n[p].y};return{controlPoints:b,knots:d}};e.default=s})(Ar);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.multiplicity=e.default=e.computeInsertions=e.checkPinned=void 0;var s=l(Ar);function l(c){return c&&c.__esModule?c:{default:c}}var u=function(n,r){for(var a=1;a<n;++a)if(r[a]!==r[0])throw Error("not pinned. order: ".concat(n," knots: ").concat(r));for(var t=r.length-2;t>r.length-n-1;--t)if(r[t]!==r[r.length-1])throw Error("not pinned. order: ".concat(n," knots: ").concat(r))};e.checkPinned=u;var f=function(n,r){for(var a=1,t=r+1;t<n.length&&n[t]===n[r];++t)++a;return a};e.multiplicity=f;var v=function(n,r){for(var a=[],t=n;t<r.length-n;){for(var o=r[t],d=f(r,t),g=0;g<n-d-1;++g)a.push(o);t=t+d}return a};e.computeInsertions=v;var i=function(n,r,a){u(n,a);var t=v(n,a);return t.reduce(function(o,d){return(0,s.default)(n,o.controlPoints,o.knots,d)},{controlPoints:r,knots:a})};e.default=i})(Mr);var Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=ie;function l(r,a){return c(r)||i(r,a)||f(r,a)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(r,a){if(r){if(typeof r=="string")return v(r,a);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(r,a)}}function v(r,a){(a==null||a>r.length)&&(a=r.length);for(var t=0,o=new Array(a);t<a;t++)o[t]=r[t];return o}function i(r,a){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var o=[],d=!0,g=!1,h,b;try{for(t=t.call(r);!(d=(h=t.next()).done)&&(o.push(h.value),!(a&&o.length===a));d=!0);}catch(p){g=!0,b=p}finally{try{!d&&t.return!=null&&t.return()}finally{if(g)throw b}}return o}}function c(r){if(Array.isArray(r))return r}var n=function(a,t,o){var d="",g=o.map(function(p){var _=p.x||0,y=p.y||0,k=p.scaleX||1,P=p.scaleY||1,w=(p.rotation||0)/180*Math.PI,M=Math.cos,E=Math.sin,S,B,R,q,z,N;return p.extrusionZ===-1?(S=-k*M(w),B=k*E(w),R=P*E(w),q=P*M(w),z=-_,N=y):(S=k*M(w),B=k*E(w),R=-P*E(w),q=P*M(w),z=_,N=y),[S,B,R,q,z,N]}),h=new s.Box2;if(a.valid){var b=[{x:a.min.x,y:a.min.y},{x:a.max.x,y:a.min.y},{x:a.max.x,y:a.max.y},{x:a.min.x,y:a.max.y}];g.forEach(function(p){var _=l(p,6),y=_[0],k=_[1],P=_[2],w=_[3],M=_[4],E=_[5];b=b.map(function(S){return{x:S.x*y+S.y*P+M,y:S.x*k+S.y*w+E}})}),h=b.reduce(function(p,_){return p.expandByPoint(_)},new s.Box2)}return g.reverse(),g.forEach(function(p){var _=l(p,6),y=_[0],k=_[1],P=_[2],w=_[3],M=_[4],E=_[5];d+='<g transform="matrix('.concat(y," ").concat(k," ").concat(P," ").concat(w," ").concat(M," ").concat(E,')">')}),d+=t,g.forEach(function(p){d+="</g>"}),{bbox:h,element:d}};e.default=n})(Er);(function(e){function s(x){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(x)}Object.defineProperty(e,"__esModule",{value:!0}),e.piecewiseToPaths=e.default=void 0;var l=ie,u=d(Qe),f=d(se),v=d(xr),i=d(X),c=d(Tr),n=d(wr),r=o(Mr),a=d(Er);function t(x){if(typeof WeakMap!="function")return null;var m=new WeakMap,T=new WeakMap;return(t=function($){return $?T:m})(x)}function o(x,m){if(x&&x.__esModule)return x;if(x===null||s(x)!=="object"&&typeof x!="function")return{default:x};var T=t(m);if(T&&T.has(x))return T.get(x);var A={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in x)if(I!=="default"&&Object.prototype.hasOwnProperty.call(x,I)){var O=$?Object.getOwnPropertyDescriptor(x,I):null;O&&(O.get||O.set)?Object.defineProperty(A,I,O):A[I]=x[I]}return A.default=x,T&&T.set(x,A),A}function d(x){return x&&x.__esModule?x:{default:x}}function g(x,m){return y(x)||_(x,m)||b(x,m)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(x,m){if(x){if(typeof x=="string")return p(x,m);var T=Object.prototype.toString.call(x).slice(8,-1);if(T==="Object"&&x.constructor&&(T=x.constructor.name),T==="Map"||T==="Set")return Array.from(x);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return p(x,m)}}function p(x,m){(m==null||m>x.length)&&(m=x.length);for(var T=0,A=new Array(m);T<m;T++)A[T]=x[T];return A}function _(x,m){var T=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(T!=null){var A=[],$=!0,I=!1,O,D;try{for(T=T.call(x);!($=(O=T.next()).done)&&(A.push(O.value),!(m&&A.length===m));$=!0);}catch(C){I=!0,D=C}finally{try{!$&&T.return!=null&&T.return()}finally{if(I)throw D}}return A}}function y(x){if(Array.isArray(x))return x}var k=function(m,T){var A=T.bbox,$=T.element;return m.extrusionZ===-1?{bbox:new l.Box2().expandByPoint({x:-A.min.x,y:A.min.y}).expandByPoint({x:-A.max.x,y:A.max.y}),element:`<g transform="matrix(-1 0 0 1 0 0)">
        `.concat($,`
      </g>`)}:{bbox:A,element:$}},P=function(m){var T=(0,u.default)(m),A=T.reduce(function(I,O){var D=g(O,2),C=D[0],F=D[1];return I.expandByPoint({x:C,y:F})},new l.Box2),$=T.reduce(function(I,O,D){return I+=D===0?"M":"L",I+=O[0]+","+O[1],I},"");return(0,a.default)(A,'<path d="'.concat($,'" />'),m.transforms)},w=function(m){var T=new l.Box2().expandByPoint({x:m.x+m.r,y:m.y+m.r}).expandByPoint({x:m.x-m.r,y:m.y-m.r}),A='<circle cx="'.concat(m.x,'" cy="').concat(m.y,'" r="').concat(m.r,'" />'),$=k(m,{bbox:T,element:A}),I=$.bbox,O=$.element;return(0,a.default)(I,O,m.transforms)},M=function(m,T,A,$,I,O,D,C){var F=Math.sqrt(A*A+$*$),H=I*F,V=-Math.atan2(-$,A),K=E(m,T,A,$,I,O,D);if(Math.abs(O-D)<1e-9||Math.abs(O-D+Math.PI*2)<1e-9){var W='<g transform="rotate('.concat(V/Math.PI*180," ").concat(m,", ").concat(T,`)">
      <ellipse cx="`).concat(m,'" cy="').concat(T,'" rx="').concat(F,'" ry="').concat(H,`" />
    </g>`);return{bbox:K,element:W}}else{var le=(0,c.default)({x:Math.cos(O)*F,y:Math.sin(O)*H},V),fe={x:m+le.x,y:T+le.y},G=(0,c.default)({x:Math.cos(D)*F,y:Math.sin(D)*H},V),de={x:m+G.x,y:T+G.y},Or=D<O?D+Math.PI*2:D,Sr=Or-O<Math.PI?0:1,Ir="M ".concat(fe.x," ").concat(fe.y," A ").concat(F," ").concat(H," ").concat(V/Math.PI*180," ").concat(Sr," 1 ").concat(de.x," ").concat(de.y),Dr='<path d="'.concat(Ir,'" />');return{bbox:K,element:Dr}}},E=function(m,T,A,$,I,O,D,C){for(;O<0;)O+=Math.PI*2;for(;D<=O;)D+=Math.PI*2;var F=[];if(Math.abs(A)<1e-12||Math.abs($)<1e-12)for(var H=0;H<4;H++)F.push(H/2*Math.PI);else F[0]=Math.atan(-$*I/A)-Math.PI,F[1]=Math.atan(A*I/$)-Math.PI,F[2]=F[0]-Math.PI,F[3]=F[1]-Math.PI;for(var V=4;V>=0;V--){for(;F[V]<O;)F[V]+=Math.PI*2;F[V]>D&&F.splice(V,1)}F.push(O),F.push(D);var K=F.map(function(G){return{x:Math.cos(G),y:Math.sin(G)}}),W=[[A,-$*I],[$,A*I]],le=K.map(function(G){return{x:G.x*W[0][0]+G.y*W[0][1]+m,y:G.x*W[1][0]+G.y*W[1][1]+T}}),fe=le.reduce(function(G,de){return G.expandByPoint(de),G},new l.Box2);return fe},S=function(m){var T=M(m.x,m.y,m.majorX,m.majorY,m.axisRatio,m.startAngle,m.endAngle),A=T.bbox,$=T.element,I=k(m,{bbox:A,element:$}),O=I.bbox,D=I.element;return(0,a.default)(O,D,m.transforms)},B=function(m){var T=M(m.x,m.y,m.r,0,1,m.startAngle,m.endAngle,m.extrusionZ===-1),A=T.bbox,$=T.element,I=k(m,{bbox:A,element:$}),O=I.bbox,D=I.element;return(0,a.default)(O,D,m.transforms)},R=function(m,T,A){for(var $=[],I=0,O=m;O<T.length-m+1;){var D=(0,r.multiplicity)(T,O),C=A.slice(I,I+m);m===4?$.push('<path d="M '.concat(C[0].x," ").concat(C[0].y," C ").concat(C[1].x," ").concat(C[1].y," ").concat(C[2].x," ").concat(C[2].y," ").concat(C[3].x," ").concat(C[3].y,'" />')):m===3&&$.push('<path d="M '.concat(C[0].x," ").concat(C[0].y," Q ").concat(C[1].x," ").concat(C[1].y," ").concat(C[2].x," ").concat(C[2].y,'" />')),I+=D,O+=D}return $};e.piecewiseToPaths=R;var q=function(m){var T=new l.Box2;m.controlPoints.forEach(function(D){T=T.expandByPoint(D)});var A=m.degree+1,$=(0,r.default)(A,m.controlPoints,m.knots),I=R(A,$.knots,$.controlPoints),O="<g>".concat(I.join(""),"</g>");return(0,a.default)(T,O,m.transforms)},z=function(m){switch(m.type){case"CIRCLE":return w(m);case"ELLIPSE":return S(m);case"ARC":return B(m);case"SPLINE":{var T=m.weights&&m.weights.some(function(A){return A!==1});if((m.degree===2||m.degree===3)&&!T)try{return q(m)}catch{return P(m)}else return P(m)}case"LINE":case"LWPOLYLINE":case"POLYLINE":return P(m);default:return i.default.warn("entity type not supported in SVG rendering:",m.type),null}},N=function(m){var T=(0,f.default)(m),A=T.reduce(function(D,C,F){var H=(0,v.default)(m.tables.layers,C),V=z(C);if(V){var K=V.bbox,W=V.element;K.valid&&(D.bbox.expandByPoint(K.min),D.bbox.expandByPoint(K.max)),D.elements.push('<g stroke="'.concat((0,n.default)(H),'">').concat(W,"</g>"))}return D},{bbox:new l.Box2,elements:[]}),$=A.bbox,I=A.elements,O=$.valid?{x:$.min.x,y:-$.max.y,width:$.max.x-$.min.x,height:$.max.y-$.min.y}:{x:0,y:0,width:0,height:0};return`<?xml version="1.0"?>
<svg
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
  preserveAspectRatio="xMinYMin meet"
  viewBox="`.concat(O.x," ").concat(O.y," ").concat(O.width," ").concat(O.height,`"
  width="100%" height="100%"
>
  <g stroke="#000000" stroke-width="0.1%" fill="none" transform="matrix(1,0,0,-1,0,0)">
    `).concat(I.join(`
`),`
  </g>
</svg>`)};e.default=N})(Je);var $r={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(X),l=c(Ce),u=c(se),f=c(Je),v=c(Ze),i=c(We);function c(o){return o&&o.__esModule?o:{default:o}}function n(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function r(o,d){for(var g=0;g<d.length;g++){var h=d[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}function a(o,d,g){return d&&r(o.prototype,d),Object.defineProperty(o,"prototype",{writable:!1}),o}var t=function(){function o(d){if(n(this,o),typeof d!="string")throw Error("Helper constructor expects a DXF string");this._contents=d,this._parsed=null,this._denormalised=null}return a(o,[{key:"parse",value:function(){return this._parsed=(0,l.default)(this._contents),s.default.info("parsed:",this.parsed),this._parsed}},{key:"parsed",get:function(){return this._parsed===null&&this.parse(),this._parsed}},{key:"denormalise",value:function(){return this._denormalised=(0,u.default)(this.parsed),s.default.info("denormalised:",this._denormalised),this._denormalised}},{key:"denormalised",get:function(){return this._denormalised||this.denormalise(),this._denormalised}},{key:"group",value:function(){this._groups=(0,i.default)(this.denormalised)}},{key:"groups",get:function(){return this._groups||this.group(),this._groups}},{key:"toSVG",value:function(){return(0,f.default)(this.parsed)}},{key:"toPolylines",value:function(){return(0,v.default)(this.parsed)}}]),o}();e.default=t})($r);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Helper",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"colors",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"config",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"denormalise",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"groupEntitiesByLayer",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"parseString",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"toPolylines",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"toSVG",{enumerable:!0,get:function(){return i.default}});var s=r(De),l=r(Ce),u=r(se),f=r(We),v=r(Ze),i=r(Je),c=r(we),n=r($r);function r(a){return a&&a.__esModule?a:{default:a}}})(Ie);const hf=Fr(Ie),pf=Cr({__proto__:null,default:hf},[Ie]);export{pf as i};
